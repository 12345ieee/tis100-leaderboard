@0
S:MOV UP, ACC
T:JNZ N
+1:MOV -2, DOWN
MOV 1, RIGHT
MOV UP, ACC
N:JRO ACC
1:JMP 5
2:SUB 2
3:SUB 2
4:ADD 6
5:MOV ACC, DOWN
MOV 3, RIGHT

@1
Q:MOV 5, ACC
R:MOV LEFT, NIL
MOV LEFT, NIL
SUB 1
JNZ R
L:JRO LEFT
1:MOV 6, DOWN
JMP Q
3:MOV 1, DOWN
JRO LEFT
1':JMP 1
3':JMP L

@2
JMP S
0:MOV 1, RIGHT
  MOV 1, RIGHT
S:JRO RIGHT
1:MOV 10, RIGHT
  MOV 10, RIGHT
  JMP S
2:MOV 10, RIGHT
  MOV 7, RIGHT
  JMP S
3:MOV 7, RIGHT
  MOV 10, RIGHT
  JMP S
4:MOV 4, RIGHT
  MOV 10, RIGHT

@3
N:MOV UP, ACC
JLZ N
MOV ACC, LEFT
MOV LEFT, DOWN
MOV LEFT, ACC
MOV UP, LEFT
MOV LEFT, DOWN
MOV ACC, DOWN
MOV LEFT, DOWN

@4
MOV 0, ACC
Q:MOV ACC, DOWN
MOV ACC, DOWN
SUB 24
JEZ BR
ADD 30
JMP Q
BR:JRO UP
MOV -1, RIGHT
MOV ACC, DOWN
MOV ACC, DOWN
ADD 6
JMP BR
6:MOV 1, RIGHT

@5
MOV 2, DOWN
Q:MOV 2, DOWN
MOV 2, DOWN
MOV 2, DOWN
MOV 2, DOWN
MOV 1, DOWN
MOV LEFT, NIL
JMP Y
MOV 2, DOWN
Y:JRO LEFT
MOV 1, DOWN
JMP Q

@6
T:JRO UP
1:MOV 0, RIGHT
  MOV 0, RIGHT
JMP T
4:MOV 3, RIGHT
  MOV 3, RIGHT
JMP T
7:MOV 0, RIGHT
  MOV 3, RIGHT
JMP T
10:MOV 3, RIGHT
   MOV 0, RIGHT

@7
MOV UP, DOWN
MOV RIGHT, DOWN
MOV LEFT, DOWN
MOV LEFT, DOWN
MOV 0, DOWN
MOV LEFT, DOWN
MOV LEFT, DOWN
MOV -1, DOWN

@8
Q:JRO UP
1:ADD 3
2:MOV ACC, LEFT
ADD 1
MOV ACC, LEFT
SUB 1
