@0
   MOV RIGHT DOWN
   SUB 4
   ADD RIGHT
   JEZ .
>: MOV 2 DOWN
   SUB 1
   JGZ >
.: MOV 1 DOWN
   MOV 2 DOWN
   MOV -4 DOWN
   MOV 1 ACC

@1
   SUB UP
   JGZ >
   MOV UP RIGHT
   JMP .
>: SUB UP
   MOV ACC RIGHT
   NEG
   MOV UP LEFT
   MOV UP LEFT
   MOV ACC RIGHT
   JMP ^
.: MOV UP LEFT
   MOV UP LEFT
^: MOV 1 ACC

@2
   MOV LEFT DOWN
.: SUB LEFT
   JGZ >
   ADD 1
   MOV ACC DOWN
   SUB 2
<: ADD 1
   JLZ <
>: MOV 0 DOWN
   JEZ .
   ADD 2
&: SUB 1
   JGZ &

@3
   MOV 3 DOWN
# THIS:
# SUPPLY THE INK

# TO LEFT:
# IN=0: 0 STALL DX
# 180: -DX STALL 0

@4
   MOV -263 ACC
   ADD UP
   JGZ &
   ADD 179
&: JRO UP
   SUB 5
   MOV ACC RIGHT
   JMP &

# IN= 90:(6)* 1 1
# IN=270:(7)* 2 2

@5
   JNZ .
   MOV RIGHT DOWN
   ADD 1
.: MOV ACC RIGHT
   MOV -3 RIGHT
&: JRO LEFT
   SUB 2
   ADD 1
   MOV ACC RIGHT
   MOV -4 RIGHT
   JMP &
   SUB 2
   ADD 1

@6
   MOV -1 ACC
   ADD UP
   MOV ACC LEFT
   SAV
   SUB 5
>: SUB 1
   JGZ >
   SWP
   JRO 2
   ADD UP
   MOV -1 RIGHT
   MOV ACC RIGHT
   MOV LEFT RIGHT
*: JRO LEFT

@7
   MOV ANY DOWN

# TO LEFT:
# SETUP
# UPDATE X / STALL
# -1
# X COORD
# Y COORD
# JUMPS -3 OR -4

@8
   MOV -5 ACC
   ADD UP
>: JGZ >
   ADD 6
   SWP
   JEZ >
   NOP
   MOV ACC RIGHT
   MOV 0 RIGHT
   MOV 0 RIGHT
   MOV 0 RIGHT
   MOV 0 RIGHT
   MOV -1 RIGHT
   NOP
   MOV 3 RIGHT

@9
   MOV LAST DOWN
   MOV LAST DOWN
   MOV ANY DOWN
   MOV ANY DOWN
   MOV ANY DOWN
   MOV ANY DOWN
   MOV LAST DOWN
   MOV ANY DOWN
   MOV ANY DOWN
   MOV ANY DOWN
   MOV ANY DOWN

@10
   MOV UP LEFT
