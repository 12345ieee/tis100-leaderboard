@0
MOV ANY DOWN

@1
MOV DOWN LEFT

@2
#MOV UP  ACC  #0>1
#MOV ACC LAST #0
#MOV RIGHT LAST#2
#MOV ACC RIGHT#1>2
#MOV ACC ANY  #1

MOV UP  ACC  #0>1
MOV ACC LAST #0
SWP
MOV ACC LAST #2
SWP
MOV ACC ANY  #1
SWP

@3
#MOV LAST ANY

@4
MOV UP RIGHT

@5
MOV LEFT ACC
MOV ACC  RIGHT
MOV ACC  UP

@6
   SUB LEFT

   JGZ G #C
   NEG   #C
G: MOV ACC  DOWN

#   JNZ N
#   MOV 0 DOWN
#   JRO 99
#N: MOV 1 DOWN

   MOV UP   ACC

@7


@8
#MOV UP UP!

@9
#C
#N: MOV 0 DOWN

#S: MOV UP ACC
#   ADD UP
#   SUB UP

#   JNZ N
#   MOV 1 DOWN
#   JMP S

@10
MOV ACC DOWN

MOV -998 ACC

SUB ANY
SUB ANY
SUB ANY

ADD 999
