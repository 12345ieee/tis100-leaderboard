@0
#191/9/46

MOV ANY ANY

@1
#-P1

SUB LEFT

A: MOV ACC ANY
JMP A

@2
#DIFF P1

MOV UP ACC
ADD LEFT
MOV ACC DOWN

@3


@4
#P1-P2

SUB UP
MOV ACC DOWN
MOV UP DOWN
SUB UP
JEZ A
MOV 100 DOWN

A: MOV ACC ANY
JMP A

@5
#TEST P2

JEZ C
A: MOV LEFT ACC
C: ADD RIGHT
MOV -999 DOWN
JNZ A

B: MOV LEFT ACC
ADD RIGHT
MOV ACC DOWN
JEZ B

@6
#TEST P1

B: MOV UP ACC
SUB 100
MOV ACC LEFT
ADD 100
JNZ B
C: MOV UP ACC
MOV ACC LEFT
JEZ C

@7


@8
#P2-P3+100, P1!=P2
#P2-P3, P1=P2

SUB UP
SUB UP
ADD UP

A: MOV ACC RIGHT
JMP A

@9
#TEST P3

C: MOV LEFT ACC
ADD UP
JNZ A

MOV 1 RIGHT
JMP C

A: MOV 0 RIGHT

@10
MOV ANY DOWN
