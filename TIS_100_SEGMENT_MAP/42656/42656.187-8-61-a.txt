@0
MOV RIGHT DOWN

@1
S: MOV UP  ACC
   JEZ E
G: MOV ACC LEFT
   MOV UP  ACC
   JNZ N
   MOV -4  DOWN
   JMP S
N: MOV ACC DOWN
   MOV UP  ACC
   JNZ N
   MOV -5  DOWN
   JMP S
E: MOV 0 DOWN

@2


@3
MOV UP RIGHT

@4
S: MOV UP ACC
   JLZ L
   JNZ N
   MOV -3 RIGHT
   JMP S

N: SWP
G: MOV UP  ACC
   MOV ACC RIGHT
   JGZ G
   SWP

L: MOV ACC  RIGHT
   MOV LEFT RIGHT

@5
MOV LAST RIGHT
MOV LAST RIGHT
MOV ANY  RIGHT

@6
MOV LEFT DOWN

@7
   JMP S
G: SAV
   MOV RIGHT ACC
   JLZ L
   MOV ACC   DOWN
   MOV RIGHT NIL
L: SWP
   MOV ACC   DOWN
   MOV RIGHT DOWN
   MOV RIGHT DOWN
   MOV RIGHT DOWN
   MOV  0    DOWN
S: MOV RIGHT ACC
   JGZ G
   JRO ACC

@8
   MOV UP LAST
   MOV UP LAST
S: MOV UP ACC
   JGZ G
   MOV ACC ANY
   JRO ACC
G: SAV
   MOV UP  ACC
   JLZ L
N: MOV ACC ANY
   MOV UP  ACC
   JGZ N
L: MOV -6  ANY
   SWP
   MOV ACC LAST
