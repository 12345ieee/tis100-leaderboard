@0
MOV -3 DOWN
JMP C
B: ADD ACC
SUB 7
JLZ 123
SUB 6
MOV ACC DOWN
JMP C
123: MOV ACC RIGHT
C: MOV UP ACC
JNZ B
MOV 1 DOWN

@1
MOV -1 UP
MOV RIGHT UP
MOV RIGHT UP
MOV RIGHT UP
MOV RIGHT UP
MOV RIGHT ACC
A: MOV ACC DOWN
MOV ACC DOWN
MOV UP ACC
JGZ A
JEZ A

#646

@2
MOV -1 ACC
SAV
4: ADD 1
JMP A
5: SWP
ADD 1
SWP
A: JRO UP
END: MOV 1 RIGHT
MOV RIGHT LEFT
MOV RIGHT LEFT
MOV RIGHT LEFT
MOV ACC LEFT
SWP
MOV ACC LEFT

@3
JMP A
1: MOV 1 DOWN
JMP A
2: MOV 3 DOWN
JMP A
3: ADD 1
A: JRO ANY
END: MOV 7 DOWN
MOV DOWN LEFT
MOV DOWN LEFT
MOV ACC LEFT
MOV 0 ACC

@4
A: JRO RIGHT
SUB UP
JGZ B
JEZ C
MOV 1 RIGHT
MOV UP ACC
JMP A
B: MOV 2 RIGHT
ADD UP
JMP A
C: MOV 3 RIGHT
ADD UP
JMP A
RESET: MOV 0 ACC

@5
MOV 5 ACC
A: MOV 1 LEFT
JRO LEFT
BEST: SAV
MEH: JMP B
TIE: SWP
MOV 0 ACC
SWP
B: SUB 1
JGZ A
MOV 13 LEFT
SWP
MOV ACC DOWN

@6
A: JRO UP
1: ADD 1
JMP A
2: SWP
ADD 1
SWP
JMP A
END: MOV ACC UP
SWP
MOV ACC UP
MOV 0 ACC
SAV
